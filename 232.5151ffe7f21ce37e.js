"use strict";(self.webpackChunkGestionRessources=self.webpackChunkGestionRessources||[]).push([[232],{7232:(qn,F,m)=>{m.r(F),m.d(F,{AdminModule:()=>vn});var u=m(6895),s=m(433),e=m(8256),c=m(646);let E=(()=>{class o{constructor(t){this.elementRef=t,this.isOpen=!1}ngOnInit(){this.sidebar=this.elementRef.nativeElement.querySelector(".sidebar"),this.closeBtn=this.elementRef.nativeElement.querySelector("#btn"),this.searchBtn=this.elementRef.nativeElement.querySelector(".bx-search"),this.setupEventListeners()}toggleSidebar(){this.isOpen=!this.isOpen,this.menuBtnChange()}setupEventListeners(){this.closeBtn.nativeElement.addEventListener("click",()=>{this.toggleSidebar()}),this.searchBtn.nativeElement.addEventListener("click",()=>{this.toggleSidebar()})}menuBtnChange(){const t=this.closeBtn.nativeElement;this.isOpen?t.classList.replace("bx-menu","bx-menu-alt-right"):t.classList.replace("bx-menu-alt-right","bx-menu")}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(e.SBq))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-side-bar"]],decls:30,vars:0,consts:[[1,"sidebar"],[1,"list-unstyled","components","mb-5"],["routerLink","/Home","routerLinkActive","active"],[1,"fa","fa-tachometer-alt"],["routerLink","/admin/list-personel","routerLinkActive","active"],[1,"fa","fa-users"],["routerLink","/admin/list-affectation","routerLinkActive","active"],[1,"fa","fa-list"],["routerLink","/admin/list-produit","routerLinkActive","active"],[1,"fa","fa-book"],["routerLink","/admin/list-categorie","routerLinkActive","active"],[1,"fa","fa-certificate"],["routerLink","/admin/list-stock","routerLinkActive","active"],[1,"fa","fa-clipboard"],["routerLink","/admin/list-vente","routerLinkActive","active"]],template:function(t,n){1&t&&(e.TgZ(0,"nav",0)(1,"ul",1)(2,"li")(3,"a",2),e._UZ(4,"i",3),e._uU(5," Tableau de bord "),e.qZA()(),e.TgZ(6,"li")(7,"a",4),e._UZ(8,"i",5),e._uU(9," clients "),e.qZA()(),e.TgZ(10,"li")(11,"a",6),e._UZ(12,"i",7),e._uU(13," Gestion vente "),e.qZA()(),e.TgZ(14,"li")(15,"a",8),e._UZ(16,"i",9),e._uU(17," Produits "),e.qZA()(),e.TgZ(18,"li")(19,"a",10),e._UZ(20,"i",11),e._uU(21," Categories "),e.qZA()(),e.TgZ(22,"li")(23,"a",12),e._UZ(24,"i",13),e._uU(25," Gestion de stock "),e.qZA()(),e.TgZ(26,"li")(27,"a",14),e._UZ(28,"i",5),e._uU(29," Gestion ventes "),e.qZA()()()())},dependencies:[c.yS,c.Od]}),o})(),O=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-admin-dashboard"]],decls:5,vars:0,consts:[[1,"row","container-fluid"],[1,"col-md-2"],[1,"col-10","md-10","my-3"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e._UZ(2,"app-side-bar"),e.qZA(),e.TgZ(3,"div",2),e._UZ(4,"router-outlet"),e.qZA()())},dependencies:[c.lC,E],styles:[".content[_ngcontent-%COMP%]{margin-left:180px;padding:20px}"]}),o})();var x=m(6444),_=m(2340),f=m(529);let U=(()=>{class o{constructor(t){this.httpClient=t,this.baseURL=_.N.baseURL+"categories"}getCategories(){return this.httpClient.get(`${this.baseURL}/list`)}getCategorieById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addCategorie(t){return this.httpClient.post(`${this.baseURL}`,t)}updateCategorie(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,n)}deleteCategorie(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(f.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const B=function(){return["../list-categorie"]};let V=(()=>{class o{constructor(t,n){this.categorieService=t,this.router=n,this.categorieDto=new x.G}ngOnInit(){}saveCategorie(){this.categorieService.addCategorie(this.categorieDto).subscribe(t=>{console.log(t),this.goTocategorieList()},t=>console.log(t))}goTocategorieList(){this.router.navigate(["admin/list-categorie"])}onSubmit(){console.log(this.categorieDto),this.saveCategorie()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(U),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-categorie"]],decls:24,vars:5,consts:[[1,"card","col-md-4","offset-md-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"form-row"],[1,"mb-3"],["type","text","id","nomcategorie","name","nomcategorie",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","code","name","code",1,"form-control",3,"ngModel","ngModelChange"],["type","text","id","designation","name","designation",1,"form-control",3,"ngModel","ngModelChange"],[1,"d-flex","justify-content-end","mt-2"],["type","submit",1,"btn","btn-success"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3," Ajouter une categorie "),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6),e._UZ(9,"div",7),e.TgZ(10,"label"),e._uU(11," Nom"),e.qZA(),e.TgZ(12,"input",8),e.NdJ("ngModelChange",function(a){return n.categorieDto.nomcategorie=a}),e.qZA()(),e.TgZ(13,"div",6)(14,"label"),e._uU(15,"Code"),e.qZA(),e.TgZ(16,"input",9),e.NdJ("ngModelChange",function(a){return n.categorieDto.code=a}),e.qZA()(),e.TgZ(17,"div",6)(18,"label"),e._uU(19," Designation"),e.qZA(),e.TgZ(20,"input",10),e.NdJ("ngModelChange",function(a){return n.categorieDto.designation=a}),e.qZA()(),e.TgZ(21,"div",11)(22,"button",12),e._uU(23,"Sauvegarder"),e.qZA()()()()()),2&t&&(e.xp6(4),e.Q6J("routerLink",e.DdM(4,B)),e.xp6(8),e.Q6J("ngModel",n.categorieDto.nomcategorie),e.xp6(4),e.Q6J("ngModel",n.categorieDto.code),e.xp6(4),e.Q6J("ngModel",n.categorieDto.designation))},dependencies:[c.rH,s._Y,s.Fj,s.JJ,s.JL,s.On,s.F]}),o})();var p=m(5861),Z=m(3583);const j=["content"];function $(o,r){if(1&o&&(e.TgZ(0,"h5",51),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function R(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td")(10,"a",52),e._UZ(11,"i",53),e._uU(12," Modifier "),e.qZA(),e.TgZ(13,"a",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteCategorie(a.id))}),e._UZ(14,"i",50),e._uU(15," Supprimer "),e.qZA()()()}if(2&o){const t=r.$implicit,n=r.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.code),e.xp6(2),e.Oqu(t.nomcategorie),e.xp6(2),e.Oqu(t.designation),e.xp6(2),e.MGl("routerLink","/admin/update-categorie/",t.id,"")}}function G(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",31)(1,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&o){const t=r.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let K=(()=>{class o{constructor(t){this.categorieService=t,this.categorieDtos=[],this.categorieDto=new x.G,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredCategories=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllCategorieDtos()}delete(){this.categorieService.deleteCategorie(this.categorieDto.id).subscribe(t=>{this.showSuccessMessage("Categorie"+this.categorieDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllCategorieDtos(),this.categorieDto=new x.G})}deleteCategorie(t){this.categorieService.deleteCategorie(t).subscribe(n=>{console.log(n),this.getAllCategorieDtos()})}ngOnInit(){this.getAllCategorieDtos(),this.filteredData()}getAllCategorieDtos(){var t=this;return(0,p.Z)(function*(){yield t.categorieService.getCategories().subscribe(n=>{t.categorieDtos=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"motif"==this.filterBy&&(this.datas.sort((t,n)=>t.code.localeCompare(n.code)),this.datas.sort((t,n)=>t.nomcategorie.localeCompare(n.nomcategorie))),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterCategorieLists(){var t=this;return(0,p.Z)(function*(){try{t.datas=t.searchText?yield t.categorieDtos.filter(n=>n.nomcategorie.toLowerCase().includes(t.searchText.toLowerCase())):t.categorieDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,p.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredCategories=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new Z.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("Bureaus.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(U))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-categorie"]],viewQuery:function(t,n){if(1&t&&e.Gf(j,5),2&t){let i;e.iGM(i=e.CRH())&&(n.pdfTable=i.first)}},decls:90,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-categorie",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","nom"],["value","prenom"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,$,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des categories"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"nom"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"code"),e.qZA()()(),e.TgZ(33,"div",23)(34,"label",24),e._UZ(35,"i",25),e.qZA(),e.TgZ(36,"input",26),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterCategorieLists()}),e.qZA()()(),e.TgZ(37,"table",27,28)(39,"thead")(40,"tr")(41,"th"),e._uU(42,"#"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Code"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Libele"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Designation"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Actions"),e.qZA()()(),e.TgZ(51,"tbody"),e.YNc(52,R,16,5,"tr",29),e.qZA()(),e.TgZ(53,"div",0)(54,"nav")(55,"ul",30)(56,"li",31)(57,"a",32),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(58,"span",33),e._uU(59,"\xab"),e.qZA()()(),e.TgZ(60,"li",31)(61,"a",34),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(62,"span",33),e._uU(63,"\u2039"),e.qZA()()(),e.YNc(64,G,3,3,"li",35),e.TgZ(65,"li",31)(66,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(67,"span",33),e._uU(68,"\u203a"),e.qZA()()(),e.TgZ(69,"li",31)(70,"a",37),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(71,"span",33),e._uU(72,"\xbb"),e.qZA()()()()()()(),e.TgZ(73,"div",38)(74,"div",39)(75,"div",40)(76,"div",41)(77,"h1",42),e._uU(78," Suppression "),e.qZA(),e.TgZ(79,"button",43),e._UZ(80,"i",44),e.qZA()(),e.TgZ(81,"div",45),e._uU(82," Etes-vous sur de vouloir supprimer cette categorie ? "),e.qZA(),e.TgZ(83,"div",46)(84,"button",47),e._UZ(85,"i",48),e._uU(86," Annuler "),e.qZA(),e.TgZ(87,"button",49),e.NdJ("click",function(){return n.delete()}),e._UZ(88,"i",50),e._uU(89," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(16),e.Q6J("ngForOf",n.filteredCategories),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),o})();var A=m(5500),C=m(1576);class z{constructor(){this.id=0,this.nom=""}}let H=(()=>{class o{constructor(t){this.httpClient=t,this.baseURL=_.N.baseURL+"magasins"}getMagasins(){return this.httpClient.get(`${this.baseURL}/list`)}getMagasinById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addMagasin(t){return this.httpClient.post(`${this.baseURL}`,t)}updateMagasin(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,z)}deleteMagasin(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(f.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function X(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez le nom du produit "),e.qZA())}function W(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caracteres "),e.qZA())}function ee(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caracteres "),e.qZA())}function te(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez la prixAchat du produit "),e.qZA())}function ne(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caracteres "),e.qZA())}function oe(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caracteres "),e.qZA())}function ie(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez la quantite du produit "),e.qZA())}function re(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caracteres "),e.qZA())}function ae(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caracteres "),e.qZA())}function se(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez le code du produit "),e.qZA())}function le(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caracteres "),e.qZA())}function ue(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caracteres "),e.qZA())}function ce(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez la designation du produit "),e.qZA())}function de(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caracteres "),e.qZA())}function ge(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caracteres "),e.qZA())}function pe(o,r){1&o&&(e.TgZ(0,"option"),e._uU(1,"Aucune cat\xe9gorie disponible"),e.qZA())}function me(o,r){if(1&o&&(e.TgZ(0,"option",25),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.nomcategorie)}}const _e=function(){return["../list-produit"]},v=function(o){return{"is-invalid":o}};let fe=(()=>{class o{constructor(t,n,i,a,l){this.fb=t,this.produitService=n,this.categorieService=i,this.magasinService=a,this.router=l,this.produitDto=new A.I,this.categories=[],this.magasins=[]}ngOnInit(){this.getCategories()}getCategories(){this.categorieService.getCategories().subscribe(t=>{this.categories=t,console.log("Toutes les categories: ",this.categories)})}getMagasins(){this.magasinService.getMagasins().subscribe(t=>{this.magasins=t,console.log("Toutes les magasins: ",this.magasins)})}saveProduit(){this.produitService.addProduit(this.produitDto).subscribe(t=>{console.log(t),console.log("Produit cr\xe9\xe9 avec succ\xe8s!"),this.goToproduitList()},t=>console.log(t))}goToproduitList(){this.router.navigate(["admin/list-produit"])}onSubmit(){console.log(this.produitDto),this.saveProduit()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.qu),e.Y36(C.d),e.Y36(U),e.Y36(H),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-produit"]],decls:63,vars:40,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"form-row"],[1,"mb-3"],["type","text","placeholder","Nom","name","nom","required","","minlength","4","maxlength","30","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nomVar","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],["type","number","placeholder","prixAchat du produit","name","prixAchat","required","","minlength","4","maxlength","30","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["prixAchatVar","ngModel"],["type","number","placeholder","quantite du produit","name","quantite","required","","minlength","4","maxlength","30","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["quantiteVar","ngModel"],["type","text","placeholder","code du produit","name","code","required","","minlength","4","maxlength","30","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["codeVar","ngModel"],["type","text","placeholder","designation du produit","name","designation","required","","minlength","4","maxlength","30","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["designationVar","ngModel"],[1,"form-label"],["name","categories","id","categories","required","",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"d-flex","justify-content-end","mt-2"],["type","submit",1,"btn","btn-info"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Ajouter un produit "),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6)(9,"div",7)(10,"label"),e._uU(11,"Nom"),e.qZA(),e.TgZ(12,"input",8,9),e.NdJ("ngModelChange",function(a){return n.produitDto.nom=a}),e.qZA(),e.TgZ(14,"div",10),e.YNc(15,X,2,0,"span",11),e.YNc(16,W,2,0,"span",11),e.YNc(17,ee,2,0,"span",11),e.qZA(),e.TgZ(18,"div",7)(19,"label"),e._uU(20,"prixAchat"),e.qZA(),e.TgZ(21,"input",12,13),e.NdJ("ngModelChange",function(a){return n.produitDto.prixAchat=a}),e.qZA(),e.TgZ(23,"div",10),e.YNc(24,te,2,0,"span",11),e.YNc(25,ne,2,0,"span",11),e.YNc(26,oe,2,0,"span",11),e.qZA()(),e.TgZ(27,"div",7)(28,"label"),e._uU(29,"quantite"),e.qZA(),e.TgZ(30,"input",14,15),e.NdJ("ngModelChange",function(a){return n.produitDto.quantite=a}),e.qZA(),e.TgZ(32,"div",10),e.YNc(33,ie,2,0,"span",11),e.YNc(34,re,2,0,"span",11),e.YNc(35,ae,2,0,"span",11),e.qZA()(),e.TgZ(36,"div",7)(37,"label"),e._uU(38,"code"),e.qZA(),e.TgZ(39,"input",16,17),e.NdJ("ngModelChange",function(a){return n.produitDto.codeproduit=a}),e.qZA(),e.TgZ(41,"div",10),e.YNc(42,se,2,0,"span",11),e.YNc(43,le,2,0,"span",11),e.YNc(44,ue,2,0,"span",11),e.qZA()(),e.TgZ(45,"div",7)(46,"label"),e._uU(47,"designation"),e.qZA(),e.TgZ(48,"input",18,19),e.NdJ("ngModelChange",function(a){return n.produitDto.designation=a}),e.qZA(),e.TgZ(50,"div",10),e.YNc(51,ce,2,0,"span",11),e.YNc(52,de,2,0,"span",11),e.YNc(53,ge,2,0,"span",11),e.qZA()(),e.TgZ(54,"div",7)(55,"label",20),e._uU(56,"Cat\xe9gorie"),e.qZA(),e.TgZ(57,"select",21),e.NdJ("ngModelChange",function(a){return n.produitDto.categorieDto.id=a}),e.YNc(58,pe,2,0,"option",11),e.YNc(59,me,2,2,"option",22),e.qZA()()()(),e.TgZ(60,"div",23)(61,"button",24),e._uU(62,"Sauvegarder"),e.qZA()()()()()),2&t){const i=e.MAs(13),a=e.MAs(22),l=e.MAs(31),d=e.MAs(40),g=e.MAs(49);e.xp6(4),e.Q6J("routerLink",e.DdM(29,_e)),e.xp6(8),e.Q6J("ngModel",n.produitDto.nom)("ngClass",e.VKq(30,v,i.touched&&!i.valid)),e.xp6(3),e.Q6J("ngIf",null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.errors?null:i.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==i.errors?null:i.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.produitDto.prixAchat)("ngClass",e.VKq(32,v,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.produitDto.quantite)("ngClass",e.VKq(34,v,l.touched&&!l.valid)),e.xp6(3),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.produitDto.codeproduit)("ngClass",e.VKq(36,v,d.touched&&!d.valid)),e.xp6(3),e.Q6J("ngIf",null==d.errors?null:d.errors.required),e.xp6(1),e.Q6J("ngIf",null==d.errors?null:d.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==d.errors?null:d.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.produitDto.designation)("ngClass",e.VKq(38,v,g.touched&&!g.valid)),e.xp6(3),e.Q6J("ngIf",null==g.errors?null:g.errors.required),e.xp6(1),e.Q6J("ngIf",null==g.errors?null:g.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==g.errors?null:g.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.produitDto.categorieDto.id),e.xp6(1),e.Q6J("ngIf",!(null!=n.categories&&n.categories.length)),e.xp6(1),e.Q6J("ngForOf",n.categories)}},dependencies:[u.mk,u.sg,u.O5,c.rH,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),o})();function he(o,r){if(1&o&&(e.TgZ(0,"div",1),e._UZ(1,"span",2),e._uU(2),e.qZA()),2&o){const t=e.oxw();e.xp6(2),e.hij(" ",t.errorMsg,"\n")}}let Ze=(()=>{class o{constructor(){this.errorMsg="",this.displayError=!1}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-field-error-display"]],inputs:{errorMsg:"errorMsg",displayError:"displayError"},decls:1,vars:1,consts:[["class","card bg-danger mt-1 w-100",4,"ngIf"],[1,"card","bg-danger","mt-1","w-100"],[1,"glyphicon","glyphicon-remove","form-control-feedback","fix-error-icon"]],template:function(t,n){1&t&&e.YNc(0,he,3,1,"div",0),2&t&&e.Q6J("ngIf",n.displayError)},dependencies:[u.O5]}),o})();function Ce(o,r){if(1&o&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.Gre("text-center ",t.style,""),e.xp6(1),e.Oqu(t.message)}}let Te=(()=>{class o{constructor(t,n,i,a,l){this.formBuilder=t,this.produitService=n,this.categorieService=i,this.router=a,this.route=l,this.produitDto=new A.I,this.idProduit=0,this.categorieDtos=[],this.formSubmitAttempt=!1,this.formProduit=this.formBuilder.group({code:[null,s.kI.required],nom:[null,s.kI.required]}),this.idProduit=this.router.snapshot.params.id,this.getProduit(this.idProduit),this.getAllCategories()}ngOnInit(){throw new Error("Method not implemented.")}submitForm(){this.formSubmitAttempt=!0,this.updateProduit(this.produitDto)}updateProduit(t){this.formProduit.valid?this.produitService.updateProduit(t.id,t).subscribe(n=>{this.produitDto=n,this.showSuccessMessage("Produit enr\xe9gistr\xe9 avec succ\xe8s"),this.formProduit.reset(),this.formSubmitAttempt=!1},n=>{console.error("Error updating produit:",n)}):this.showErrorMessage("Verifiez vos donn\xe9es et renseignez les champs obligatoire avec un *")}getProduit(t){this.produitService.getProduitById(t).subscribe(n=>{this.produitDto=n})}showSuccessMessage(t){this.message="Op\xe9ration r\xe9ussie !\n "+t,this.style="alert alert-success",setTimeout(()=>{this.message=""},5e3),this.route.navigate(["/admin/list-produit"])}showErrorMessage(t){this.message="Oops un probleme est survenu. Op\xe9ration \xe9chou\xe9e !\n "+t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}getAllCategories(){this.categorieService.getCategories().subscribe(t=>{this.categorieDtos=t})}isFieldValid(t){return!this.formProduit.get(t).valid&&this.formProduit.get(t).touched||this.formProduit.get(t).untouched&&this.formSubmitAttempt}displayFieldCss(t){return{"has-error":this.isFieldValid(t),"has-feedback":this.isFieldValid(t)}}validateAllFormFields(t){Object.keys(t.controls).forEach(n=>{const i=t.get(n);i instanceof s.NI?i.markAsTouched({onlySelf:!0}):i instanceof s.cw&&this.validateAllFormFields(i)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(s.qu),e.Y36(C.d),e.Y36(U),e.Y36(c.gz),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-produit"]],decls:39,vars:13,consts:[[1,"container","d-flex","justify-content-center"],[3,"formGroup","ngSubmit"],[3,"class",4,"ngIf"],[1,"card","col-6","p-2"],[1,"card-header","text-center","p-2","bg-info"],[1,"card-content"],[1,"form-group"],["for","code"],["type","text","autofocus","","id","code","formControlName","code",1,"form-control",3,"ngModel","ngModelChange"],["errorMsg","Veuillez renseigner le code du d\xe9partement",3,"displayError"],["for","nom"],["type","text","id","nom","formControlName","nom",1,"form-control",3,"ngModel","ngModelChange"],["errorMsg","Veuillez renseigner le nom du d\xe9partement",3,"displayError"],["for","designation"],["type","text","id","designation","formControlName","designation",1,"form-control",3,"ngModel","ngModelChange"],["errorMsg","Veuillez renseigner le designation du d\xe9partement",3,"displayError"],["for","PrixAchat"],["type","text","id","PrixAchat","formControlName","PrixAchat",1,"form-control",3,"ngModel","ngModelChange"],["errorMsg","Veuillez renseigner le PrixAchat du d\xe9partement",3,"displayError"],[1,"d-flex","justify-content-center"],["type","submit",1,"btn","btn-primary","col-4","mx-auto",3,"disabled"],[1,"fa","fa-edit"],["routerLink","/admin/list-produit",1,"btn","btn-danger","col-4","mx-auto"],[1,"fa","fa-arrow-left"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"form",1),e.NdJ("ngSubmit",function(){return n.submitForm()}),e.YNc(2,Ce,2,4,"div",2),e.TgZ(3,"div",3)(4,"h5",4),e._uU(5,"Formulaire de modification de produits"),e.qZA(),e.TgZ(6,"div",5)(7,"div",6)(8,"label",7),e._uU(9,"Code"),e.qZA(),e.TgZ(10,"input",8),e.NdJ("ngModelChange",function(a){return n.produitDto.codeproduit=a}),e.qZA(),e._UZ(11,"app-field-error-display",9),e.qZA(),e.TgZ(12,"div",6)(13,"label",10),e._uU(14,"nom"),e.qZA(),e.TgZ(15,"input",11),e.NdJ("ngModelChange",function(a){return n.produitDto.nom=a}),e.qZA(),e._UZ(16,"app-field-error-display",12),e.qZA(),e.TgZ(17,"div",6)(18,"label",13),e._uU(19,"designation"),e.qZA(),e.TgZ(20,"input",14),e.NdJ("ngModelChange",function(a){return n.produitDto.designation=a}),e.qZA(),e._UZ(21,"app-field-error-display",15),e.qZA(),e.TgZ(22,"div",6)(23,"label",13),e._uU(24,"designation"),e.qZA(),e.TgZ(25,"input",14),e.NdJ("ngModelChange",function(a){return n.produitDto.designation=a}),e.qZA(),e._UZ(26,"app-field-error-display",15),e.qZA()(),e.TgZ(27,"div",6)(28,"label",16),e._uU(29,"PrixAchat"),e.qZA(),e.TgZ(30,"input",17),e.NdJ("ngModelChange",function(a){return n.produitDto.prixAchat=a}),e.qZA(),e._UZ(31,"app-field-error-display",18),e.qZA(),e.TgZ(32,"div",19)(33,"button",20),e._UZ(34,"i",21),e._uU(35," Modifier "),e.qZA(),e.TgZ(36,"button",22),e._UZ(37,"i",23),e._uU(38," Annuler "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("formGroup",n.formProduit),e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(8),e.Q6J("ngModel",n.produitDto.codeproduit),e.xp6(1),e.Q6J("displayError",n.isFieldValid("code")),e.xp6(4),e.Q6J("ngModel",n.produitDto.nom),e.xp6(1),e.Q6J("displayError",n.isFieldValid("nom")),e.xp6(4),e.Q6J("ngModel",n.produitDto.designation),e.xp6(1),e.Q6J("displayError",n.isFieldValid("designation")),e.xp6(4),e.Q6J("ngModel",n.produitDto.designation),e.xp6(1),e.Q6J("displayError",n.isFieldValid("designation")),e.xp6(4),e.Q6J("ngModel",n.produitDto.prixAchat),e.xp6(1),e.Q6J("displayError",n.isFieldValid("PrixAchat")),e.xp6(2),e.Q6J("disabled",!n.formProduit.valid))},dependencies:[u.O5,c.rH,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u,Ze]}),o})();var be=m(6345);class D{constructor(){this.id=0,this.prenom="",this.nom="",this.adresse="",this.mail="",this.numtel=""}}let w=(()=>{class o{constructor(t){this.httpClient=t,this.baseURL=_.N.baseURL+"fournisseurs"}getFournisseurs(){return this.httpClient.get(`${this.baseURL}/list`)}getFournisseurById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addFournisseur(t){return this.httpClient.post(`${this.baseURL}`,t)}updateFournisseur(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,n)}deleteFournisseur(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(f.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const Ae=["content"];function ve(o,r){if(1&o&&(e.TgZ(0,"h5",51),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function qe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"a",52),e._UZ(15,"i",53),e._uU(16," Modifier "),e.qZA(),e.TgZ(17,"a",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteFournisseur(a.id))}),e._UZ(18,"i",50),e._uU(19," Supprimer "),e.qZA()()()}if(2&o){const t=r.$implicit,n=r.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.prenom),e.xp6(2),e.Oqu(t.nom),e.xp6(2),e.Oqu(t.adresse),e.xp6(2),e.Oqu(t.mail),e.xp6(2),e.Oqu(t.numtel),e.xp6(2),e.MGl("routerLink","/admin/update-fournisseur/",t.id,"")}}function Pe(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",31)(1,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&o){const t=r.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let Ue=(()=>{class o{constructor(t){this.fournisseurService=t,this.fournisseurDtos=[],this.fournisseurDto=new D,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredFournisseurs=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllFournisseurDtos()}delete(){this.fournisseurService.deleteFournisseur(this.fournisseurDto.id).subscribe(t=>{this.showSuccessMessage("Fournisseur"+this.fournisseurDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllFournisseurDtos(),this.fournisseurDto=new D})}deleteFournisseur(t){this.fournisseurService.deleteFournisseur(t).subscribe(n=>{console.log(n),this.getAllFournisseurDtos()})}ngOnInit(){this.getAllFournisseurDtos(),this.filteredData()}getAllFournisseurDtos(){var t=this;return(0,p.Z)(function*(){yield t.fournisseurService.getFournisseurs().subscribe(n=>{t.fournisseurDtos=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"motif"==this.filterBy&&(this.datas.sort((t,n)=>t.nom.localeCompare(n.nom)),this.datas.sort((t,n)=>t.prenom.localeCompare(n.prenom))),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterFournisseurLists(){var t=this;return(0,p.Z)(function*(){try{t.datas=t.searchText?yield t.fournisseurDtos.filter(n=>n.nom.toLowerCase().includes(t.searchText.toLowerCase())):t.fournisseurDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,p.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredFournisseurs=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new Z.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("Bureaus.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(w))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-fournisseur"]],viewQuery:function(t,n){if(1&t&&e.Gf(Ae,5),2&t){let i;e.iGM(i=e.CRH())&&(n.pdfTable=i.first)}},decls:94,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-fournisseur",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","nom"],["value","prenom"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,ve,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des fournisseurs"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"nom"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"prenom"),e.qZA()()(),e.TgZ(33,"div",23)(34,"label",24),e._UZ(35,"i",25),e.qZA(),e.TgZ(36,"input",26),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterFournisseurLists()}),e.qZA()()(),e.TgZ(37,"table",27,28)(39,"thead")(40,"tr")(41,"th"),e._uU(42,"#"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Prenom"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Nom"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Addresse"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Email"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"Numero"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"Actions"),e.qZA()()(),e.TgZ(55,"tbody"),e.YNc(56,qe,20,7,"tr",29),e.qZA()(),e.TgZ(57,"div",0)(58,"nav")(59,"ul",30)(60,"li",31)(61,"a",32),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(62,"span",33),e._uU(63,"\xab"),e.qZA()()(),e.TgZ(64,"li",31)(65,"a",34),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(66,"span",33),e._uU(67,"\u2039"),e.qZA()()(),e.YNc(68,Pe,3,3,"li",35),e.TgZ(69,"li",31)(70,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(71,"span",33),e._uU(72,"\u203a"),e.qZA()()(),e.TgZ(73,"li",31)(74,"a",37),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(75,"span",33),e._uU(76,"\xbb"),e.qZA()()()()()()(),e.TgZ(77,"div",38)(78,"div",39)(79,"div",40)(80,"div",41)(81,"h1",42),e._uU(82," Suppression "),e.qZA(),e.TgZ(83,"button",43),e._UZ(84,"i",44),e.qZA()(),e.TgZ(85,"div",45),e._uU(86," Etes-vous sur de vouloir supprimer cette fournisseur ? "),e.qZA(),e.TgZ(87,"div",46)(88,"button",47),e._UZ(89,"i",48),e._uU(90," Annuler "),e.qZA(),e.TgZ(91,"button",49),e.NdJ("click",function(){return n.delete()}),e._UZ(92,"i",50),e._uU(93," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(20),e.Q6J("ngForOf",n.filteredFournisseurs),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),o})(),Me=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-fournisseur"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-fournisseur works!"),e.qZA())}}),o})();function ke(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez votre non "),e.qZA())}function xe(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function De(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function ye(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez le prenom "),e.qZA())}function Je(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Le(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Se(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez le adresse "),e.qZA())}function Ne(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Fe(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function we(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez le email "),e.qZA())}function Qe(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Ie(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Ye(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez le numtel "),e.qZA())}function Ee(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Oe(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}const Be=function(){return["../list-fournisseur"]},q=function(o){return{"is-invalid":o}};let Ve=(()=>{class o{constructor(t,n){this.fournisseurService=t,this.router=n,this.fournisseurDto=new D}ngOnInit(){}saveFournisseur(){this.fournisseurService.addFournisseur(this.fournisseurDto).subscribe(t=>{console.log(t),this.goTofournisseurList()},t=>console.log(t))}goTofournisseurList(){this.router.navigate(["admin/list-fournisseur"])}onSubmit(){console.log(this.fournisseurDto),this.saveFournisseur()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(w),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-fournisseur"]],decls:61,vars:37,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"form-row"],[1,"col-md-4","mb-3"],["type","text","placeholder","nom du fournisseur","name","nom","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nomVar","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],["type","text","placeholder","prenom du fournisseur","name","prenom","required","","minlength","3","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["prenomVar","ngModel"],["type","text","placeholder","adresse du fournisseur","name","adresse","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["adresseVar","ngModel"],["type","email","placeholder","email du fournisseur","name","email","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["emailVar","ngModel"],["type","text","placeholder","numtel du fournisseur","name","numtel","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["numtelVar","ngModel"],[1,"text-right"],["type","submit",1,"btn","btn-info"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3," Cr\xe9er une fournisseur "),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6),e._UZ(9,"div",7),e.TgZ(10,"label"),e._uU(11,"Nom"),e.qZA(),e.TgZ(12,"input",8,9),e.NdJ("ngModelChange",function(a){return n.fournisseurDto.nom=a}),e.qZA(),e.TgZ(14,"div",10),e.YNc(15,ke,2,0,"span",11),e.YNc(16,xe,2,0,"span",11),e.YNc(17,De,2,0,"span",11),e.qZA()(),e.TgZ(18,"div",6),e._UZ(19,"div",7),e.TgZ(20,"label"),e._uU(21,"Prenon"),e.qZA(),e.TgZ(22,"input",12,13),e.NdJ("ngModelChange",function(a){return n.fournisseurDto.prenom=a}),e.qZA(),e.TgZ(24,"div",10),e.YNc(25,ye,2,0,"span",11),e.YNc(26,Je,2,0,"span",11),e.YNc(27,Le,2,0,"span",11),e.qZA()(),e.TgZ(28,"div",6),e._UZ(29,"div",7),e.TgZ(30,"label"),e._uU(31,"Adresse"),e.qZA(),e.TgZ(32,"input",14,15),e.NdJ("ngModelChange",function(a){return n.fournisseurDto.adresse=a}),e.qZA(),e.TgZ(34,"div",10),e.YNc(35,Se,2,0,"span",11),e.YNc(36,Ne,2,0,"span",11),e.YNc(37,Fe,2,0,"span",11),e.qZA()(),e.TgZ(38,"div",6),e._UZ(39,"div",7),e.TgZ(40,"label"),e._uU(41,"E-mail"),e.qZA(),e.TgZ(42,"input",16,17),e.NdJ("ngModelChange",function(a){return n.fournisseurDto.mail=a}),e.qZA(),e.TgZ(44,"div",10),e.YNc(45,we,2,0,"span",11),e.YNc(46,Qe,2,0,"span",11),e.YNc(47,Ie,2,0,"span",11),e.qZA()(),e.TgZ(48,"div",6),e._UZ(49,"div",7),e.TgZ(50,"label"),e._uU(51,"Numero de telephpone"),e.qZA(),e.TgZ(52,"input",18,19),e.NdJ("ngModelChange",function(a){return n.fournisseurDto.numtel=a}),e.qZA(),e.TgZ(54,"div",10),e.YNc(55,Ye,2,0,"span",11),e.YNc(56,Ee,2,0,"span",11),e.YNc(57,Oe,2,0,"span",11),e.qZA()(),e.TgZ(58,"div",20)(59,"button",21),e._uU(60,"Sauvegarder"),e.qZA()()()()()),2&t){const i=e.MAs(13),a=e.MAs(23),l=e.MAs(33),d=e.MAs(43),g=e.MAs(53);e.xp6(4),e.Q6J("routerLink",e.DdM(26,Be)),e.xp6(8),e.Q6J("ngModel",n.fournisseurDto.nom)("ngClass",e.VKq(27,q,i.touched&&!i.valid)),e.xp6(3),e.Q6J("ngIf",null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.errors?null:i.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==i.errors?null:i.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.fournisseurDto.prenom)("ngClass",e.VKq(29,q,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.fournisseurDto.adresse)("ngClass",e.VKq(31,q,l.touched&&!l.valid)),e.xp6(3),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.fournisseurDto.mail)("ngClass",e.VKq(33,q,d.touched&&!d.valid)),e.xp6(3),e.Q6J("ngIf",null==d.errors?null:d.errors.required),e.xp6(1),e.Q6J("ngIf",null==d.errors?null:d.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==d.errors?null:d.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.fournisseurDto.numtel)("ngClass",e.VKq(35,q,g.touched&&!g.valid)),e.xp6(3),e.Q6J("ngIf",null==g.errors?null:g.errors.required),e.xp6(1),e.Q6J("ngIf",null==g.errors?null:g.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==g.errors?null:g.errors.maxlength)}},dependencies:[u.mk,u.O5,c.rH,s._Y,s.Fj,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),o})();class M{constructor(){this.id=0,this.quantite="",this.nom="",this.date="",this.motif="",this.produitDto=new A.I}}let Q=(()=>{class o{constructor(t){this.httpClient=t,this.baseURL=_.N.baseURL+"avaries"}getAvaries(){return this.httpClient.get(`${this.baseURL}/list`)}getAvarieById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addAvarie(t){return this.httpClient.post(`${this.baseURL}`,t)}updateAvarie(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,M)}deleteAvarie(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(f.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),je=(()=>{class o{constructor(t,n,i){this.avarieService=t,this.produitService=n,this.router=i,this.produits=[],this.avarieDto=new M}ngOnInit(){this.getProduits()}saveAvarie(){this.avarieService.addAvarie(this.avarieDto).subscribe(t=>{console.log(t),this.goToavarieList()},t=>console.log(t))}goToavarieList(){this.router.navigate(["admin/listavarie"])}onSubmit(){console.log(this.avarieDto),this.saveAvarie()}getProduits(){this.produitService.getProduits().subscribe(t=>{this.produits=t,console.log("Toutes les produits : ",this.produits)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Q),e.Y36(C.d),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-avarie"]],decls:0,vars:0,template:function(t,n){}}),o})();const $e=["content"];function Re(o,r){if(1&o&&(e.TgZ(0,"h5",53),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function Ge(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td")(12,"a",54),e._UZ(13,"i",55),e._uU(14," Modifier "),e.qZA(),e.TgZ(15,"a",56),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteAvarie(a.id))}),e._UZ(16,"i",52),e._uU(17," Supprimer "),e.qZA()()()}if(2&o){const t=r.$implicit,n=r.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.produitDto.nom),e.xp6(2),e.Oqu(t.produitDto.codeproduit),e.xp6(2),e.Oqu(t.motif),e.xp6(2),e.Oqu(t.date),e.xp6(2),e.MGl("routerLink","/admin/update-avarie/",t.id,"")}}function Ke(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",33)(1,"a",57),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&o){const t=r.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let ze=(()=>{class o{constructor(t){this.avarieService=t,this.avarieDtos=[],this.avarieDto=new M,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredAvaries=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllAvarieDtos()}delete(){this.avarieService.deleteAvarie(this.avarieDto.id).subscribe(t=>{this.showSuccessMessage("Avarie"+this.avarieDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllAvarieDtos(),this.avarieDto=new M})}deleteAvarie(t){this.avarieService.deleteAvarie(t).subscribe(n=>{console.log(n),this.getAllAvarieDtos()})}ngOnInit(){this.getAllAvarieDtos(),this.filteredData()}getAllAvarieDtos(){var t=this;return(0,p.Z)(function*(){yield t.avarieService.getAvaries().subscribe(n=>{t.avarieDtos=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"motif"==this.filterBy&&(this.datas.sort((t,n)=>t.motif.localeCompare(n.motif)),this.datas.sort((t,n)=>t.produitDto.codeproduit.localeCompare(n.produitDto.codeproduit))),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterAvarieLists(){var t=this;return(0,p.Z)(function*(){try{t.datas=t.searchText?yield t.avarieDtos.filter(n=>n.motif.toLowerCase().includes(t.searchText.toLowerCase())):t.avarieDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,p.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredAvaries=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new Z.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("Bureaus.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(Q))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-avarie"]],viewQuery:function(t,n){if(1&t&&e.Gf($e,5),2&t){let i;e.iGM(i=e.CRH())&&(n.pdfTable=i.first)}},decls:96,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-avarie",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","nom"],["value","datecommande"],["value","quantite"],["value","motif"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Re,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des avaries"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"Nom"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"Date"),e.qZA(),e.TgZ(33,"option",23),e._uU(34,"Quantite"),e.qZA(),e.TgZ(35,"option",24),e._uU(36,"Motif"),e.qZA()()(),e.TgZ(37,"div",25)(38,"label",26),e._UZ(39,"i",27),e.qZA(),e.TgZ(40,"input",28),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterAvarieLists()}),e.qZA()()(),e.TgZ(41,"table",29,30)(43,"thead")(44,"tr")(45,"th"),e._uU(46,"#"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Nom"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Code Produit"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"Motif"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"Date"),e.qZA(),e.TgZ(55,"th"),e._uU(56,"Actions"),e.qZA()()(),e.TgZ(57,"tbody"),e.YNc(58,Ge,18,6,"tr",31),e.qZA()(),e.TgZ(59,"div",0)(60,"nav")(61,"ul",32)(62,"li",33)(63,"a",34),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(64,"span",35),e._uU(65,"\xab"),e.qZA()()(),e.TgZ(66,"li",33)(67,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(68,"span",35),e._uU(69,"\u2039"),e.qZA()()(),e.YNc(70,Ke,3,3,"li",37),e.TgZ(71,"li",33)(72,"a",38),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(73,"span",35),e._uU(74,"\u203a"),e.qZA()()(),e.TgZ(75,"li",33)(76,"a",39),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(77,"span",35),e._uU(78,"\xbb"),e.qZA()()()()()()(),e.TgZ(79,"div",40)(80,"div",41)(81,"div",42)(82,"div",43)(83,"h1",44),e._uU(84," Suppression "),e.qZA(),e.TgZ(85,"button",45),e._UZ(86,"i",46),e.qZA()(),e.TgZ(87,"div",47),e._uU(88," Etes-vous sur de vouloir supprimer cette avarie ? "),e.qZA(),e.TgZ(89,"div",48)(90,"button",49),e._UZ(91,"i",50),e._uU(92," Annuler "),e.qZA(),e.TgZ(93,"button",51),e.NdJ("click",function(){return n.delete()}),e._UZ(94,"i",52),e._uU(95," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(14),e.Q6J("ngModel",n.searchText),e.xp6(18),e.Q6J("ngForOf",n.filteredAvaries),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),o})(),He=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-avarie"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-avarie works!"),e.qZA())}}),o})(),Xe=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-personel"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-personel works!"),e.qZA())}}),o})();var We=m(8524);class T{constructor(){this.id=0,this.nom="",this.prenom="",this.dateDeNaissance="",this.sexe="",this.lieuDeNaissance="",this.numero=0,this.email="",this.password="",this.roleDto=new We.v}formatDate(r){throw new Error("Method not implemented.")}}let P=(()=>{class o{constructor(t){this.httpClient=t,this.baseURL=_.N.baseURL+"personels"}getPersonels(){return this.httpClient.get(`${this.baseURL}/list`)}getPersonelById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addPersonel(t){return this.httpClient.post(`${this.baseURL}`,t)}updatePersonel(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,T)}deletePersonel(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(f.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const et=["content"];function tt(o,r){if(1&o&&(e.TgZ(0,"h5",52),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function nt(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td"),e._uU(14),e.qZA(),e.TgZ(15,"td"),e._uU(16),e.qZA(),e.TgZ(17,"td")(18,"a",53),e._UZ(19,"i",54),e._uU(20," Modifier "),e.qZA(),e.TgZ(21,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deletePersonel(a.id))}),e._UZ(22,"i",51),e._uU(23," Supprimer "),e.qZA()()()}if(2&o){const t=r.$implicit,n=r.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.prenom),e.xp6(2),e.Oqu(t.nom),e.xp6(2),e.Oqu(t.sexe),e.xp6(2),e.Oqu(t.dateDeNaissance),e.xp6(2),e.Oqu(t.lieuDeNaissance),e.xp6(2),e.Oqu(t.numero),e.xp6(2),e.Oqu(t.email),e.xp6(2),e.MGl("routerLink","/admin/update-personel/",t.id,"")}}function ot(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",32)(1,"a",56),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&o){const t=r.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let it=(()=>{class o{constructor(t){this.personelService=t,this.personelDtos=[],this.personelDto=new T,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredPersonels=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllPersonelDtos()}delete(){this.personelService.deletePersonel(this.personelDto.id).subscribe(t=>{this.showSuccessMessage("Personel"+this.personelDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllPersonelDtos(),this.personelDto=new T})}deletePersonel(t){this.personelService.deletePersonel(t).subscribe(n=>{console.log(n),this.getAllPersonelDtos()})}ngOnInit(){this.getAllPersonelDtos(),this.filteredData()}getAllPersonelDtos(){var t=this;return(0,p.Z)(function*(){yield t.personelService.getPersonels().subscribe(n=>{t.personelDtos=n,t.datas=n,t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"nom"==this.filterBy&&(this.datas.sort((t,n)=>t.nom.localeCompare(n.nom)),this.datas.sort((t,n)=>t.prenom.localeCompare(n.prenom)),this.datas.sort((t,n)=>t.dateDeNaissance.localeCompare(n.dateDeNaissance)),this.datas.sort((t,n)=>t.lieuDeNaissance.localeCompare(n.lieuDeNaissance))),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterPersonelLists(){var t=this;return(0,p.Z)(function*(){try{t.datas=t.searchText?yield t.personelDtos.filter(n=>n.nom.toLowerCase().includes(t.searchText.toLowerCase())||n.prenom.toLowerCase().includes(t.searchText.toLowerCase())||n.dateDeNaissance.toLowerCase().includes(t.searchText.toLowerCase())||n.lieuDeNaissance.toLowerCase().includes(t.searchText.toLowerCase())):t.personelDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,p.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredPersonels=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new Z.ZP("l","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("personels.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(P))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-personel"]],viewQuery:function(t,n){if(1&t&&e.Gf(et,5),2&t){let i;e.iGM(i=e.CRH())&&(n.pdfTable=i.first)}},decls:100,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-personel",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","nom"],["value","dateDeNaissance"],["value","lieuDeNaissance"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,tt,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des clients"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"Nom"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"Date"),e.qZA(),e.TgZ(33,"option",23),e._uU(34,"lieu de naissancw"),e.qZA()()(),e.TgZ(35,"div",24)(36,"label",25),e._UZ(37,"i",26),e.qZA(),e.TgZ(38,"input",27),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterPersonelLists()}),e.qZA()()(),e.TgZ(39,"table",28,29)(41,"thead")(42,"tr")(43,"th"),e._uU(44,"#"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"Prenom"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Nom"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"Sexe"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"Date de Naissance"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"Lieu de Naissance"),e.qZA(),e.TgZ(55,"th"),e._uU(56,"Numero"),e.qZA(),e.TgZ(57,"th"),e._uU(58,"Email"),e.qZA(),e.TgZ(59,"th"),e._uU(60,"Actions"),e.qZA()()(),e.TgZ(61,"tbody"),e.YNc(62,nt,24,9,"tr",30),e.qZA()(),e.TgZ(63,"div",0)(64,"nav")(65,"ul",31)(66,"li",32)(67,"a",33),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(68,"span",34),e._uU(69,"\xab"),e.qZA()()(),e.TgZ(70,"li",32)(71,"a",35),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(72,"span",34),e._uU(73,"\u2039"),e.qZA()()(),e.YNc(74,ot,3,3,"li",36),e.TgZ(75,"li",32)(76,"a",37),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(77,"span",34),e._uU(78,"\u203a"),e.qZA()()(),e.TgZ(79,"li",32)(80,"a",38),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(81,"span",34),e._uU(82,"\xbb"),e.qZA()()()()()()(),e.TgZ(83,"div",39)(84,"div",40)(85,"div",41)(86,"div",42)(87,"h1",43),e._uU(88," Suppression "),e.qZA(),e.TgZ(89,"button",44),e._UZ(90,"i",45),e.qZA()(),e.TgZ(91,"div",46),e._uU(92," Etes-vous sur de vouloir supprimer cette personel ? "),e.qZA(),e.TgZ(93,"div",47)(94,"button",48),e._UZ(95,"i",49),e._uU(96," Annuler "),e.qZA(),e.TgZ(97,"button",50),e.NdJ("click",function(){return n.delete()}),e._UZ(98,"i",51),e._uU(99," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(12),e.Q6J("ngModel",n.searchText),e.xp6(24),e.Q6J("ngForOf",n.filteredPersonels),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),o})();var rt=m(6888);function at(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez votre non "),e.qZA())}function st(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function lt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function ut(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez le prenom "),e.qZA())}function ct(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function dt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function gt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez votre non "),e.qZA())}function pt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function mt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function _t(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez le lieuDeNaissance "),e.qZA())}function ft(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function ht(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Zt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez le email "),e.qZA())}function Ct(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Tt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function bt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez le numero "),e.qZA())}function At(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function vt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function qt(o,r){if(1&o&&(e.TgZ(0,"option",33),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.nom)}}const Pt=function(){return["../list-personel"]},b=function(o){return{"is-invalid":o}};let Ut=(()=>{class o{constructor(t,n,i){this.personelService=t,this.roleService=n,this.router=i,this.roles=[],this.personelDto=new T}ngOnInit(){this.getRoles()}getRoles(){this.roleService.getRoles().subscribe(t=>{this.roles=t,console.log("Toutes les roles: ",this.roles)})}savePersonel(){this.personelService.addPersonel(this.personelDto).subscribe(t=>{console.log(t),this.goTopersonelList()},t=>console.log(t))}goTopersonelList(){this.router.navigate(["admin/list-personel"])}onSubmit(){console.log(this.personelDto),this.savePersonel()}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(P),e.Y36(rt.N),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-personel"]],decls:87,vars:47,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"fw-bold","mt-0"],[1,"card-body"],[3,"ngSubmit"],[1,"form-row"],[1,"mb-3"],["type","text","placeholder","nom du personel","name","nom","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["nomVar","ngModel"],[1,"invalid-feedback"],[4,"ngIf"],["type","text","placeholder","prenom du personel","name","prenom","required","","minlength","3","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["prenomVar","ngModel"],["for","role"],["id","role","name","sexe",1,"form-control","form-control-lg",3,"ngModel","ngModelChange"],["value",""],["value","feminin"],["value","masculin"],["type","date","placeholder","JJ/MM/AAAA","name","dateDeNaissance","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["dateDeNaissanceVar","ngModel"],["type","text","placeholder","lieu De Naissance du personel","name","lieuDeNaissance","required","","minlength","3","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["lieuDeNaissanceVar","ngModel"],["type","email","placeholder","exemple@gmail.com","name","email","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["emailVar","ngModel"],["type","text","placeholder","77665398","name","numero","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["numeroVar","ngModel"],[1,"form-label"],["name","roles","id","roles","placeholder","selectionner",1,"form-control",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],[1,"text-right"],["type","submit",1,"btn","btn-info"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Ajouter un client "),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e._UZ(6,"hr",4),e.TgZ(7,"div",5)(8,"form",6),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(9,"div",7),e._UZ(10,"div",8),e.TgZ(11,"label"),e._uU(12,"Nom"),e.qZA(),e.TgZ(13,"input",9,10),e.NdJ("ngModelChange",function(a){return n.personelDto.nom=a}),e.qZA(),e.TgZ(15,"div",11),e.YNc(16,at,2,0,"span",12),e.YNc(17,st,2,0,"span",12),e.YNc(18,lt,2,0,"span",12),e.qZA()(),e.TgZ(19,"div",7),e._UZ(20,"div",8),e.TgZ(21,"label"),e._uU(22,"Prenon"),e.qZA(),e.TgZ(23,"input",13,14),e.NdJ("ngModelChange",function(a){return n.personelDto.prenom=a}),e.qZA(),e.TgZ(25,"div",11),e.YNc(26,ut,2,0,"span",12),e.YNc(27,ct,2,0,"span",12),e.YNc(28,dt,2,0,"span",12),e.qZA()(),e.TgZ(29,"div",7)(30,"label",15),e._uU(31,"Sexe "),e.qZA(),e.TgZ(32,"select",16),e.NdJ("ngModelChange",function(a){return n.personelDto.sexe=a}),e.TgZ(33,"option",17),e._uU(34,"S\xe9lectionner"),e.qZA(),e.TgZ(35,"option",18),e._uU(36,"F"),e.qZA(),e.TgZ(37,"option",19),e._uU(38,"M"),e.qZA()()(),e.TgZ(39,"div",7),e._UZ(40,"div",8),e.TgZ(41,"label"),e._uU(42,"Date de naissance"),e.qZA(),e.TgZ(43,"input",20,21),e.NdJ("ngModelChange",function(a){return n.personelDto.dateDeNaissance=a}),e.qZA(),e.TgZ(45,"div",11),e.YNc(46,gt,2,0,"span",12),e.YNc(47,pt,2,0,"span",12),e.YNc(48,mt,2,0,"span",12),e.qZA()(),e.TgZ(49,"div",7),e._UZ(50,"div",8),e.TgZ(51,"label"),e._uU(52,"Lieu de naissance"),e.qZA(),e.TgZ(53,"input",22,23),e.NdJ("ngModelChange",function(a){return n.personelDto.lieuDeNaissance=a}),e.qZA(),e.TgZ(55,"div",11),e.YNc(56,_t,2,0,"span",12),e.YNc(57,ft,2,0,"span",12),e.YNc(58,ht,2,0,"span",12),e.qZA()(),e.TgZ(59,"div",7),e._UZ(60,"div",8),e.TgZ(61,"label"),e._uU(62,"E-mail"),e.qZA(),e.TgZ(63,"input",24,25),e.NdJ("ngModelChange",function(a){return n.personelDto.email=a}),e.qZA(),e.TgZ(65,"div",11),e.YNc(66,Zt,2,0,"span",12),e.YNc(67,Ct,2,0,"span",12),e.YNc(68,Tt,2,0,"span",12),e.qZA()(),e.TgZ(69,"div",7),e._UZ(70,"div",8),e.TgZ(71,"label"),e._uU(72,"Numero de telephpone"),e.qZA(),e.TgZ(73,"input",26,27),e.NdJ("ngModelChange",function(a){return n.personelDto.numero=a}),e.qZA(),e.TgZ(75,"div",11),e.YNc(76,bt,2,0,"span",12),e.YNc(77,At,2,0,"span",12),e.YNc(78,vt,2,0,"span",12),e.qZA()(),e.TgZ(79,"div",8)(80,"label",28),e._uU(81," Role"),e.qZA(),e.TgZ(82,"select",29),e.NdJ("ngModelChange",function(a){return n.personelDto.roleDto.id=a}),e.YNc(83,qt,2,2,"option",30),e.qZA()(),e.TgZ(84,"div",31)(85,"button",32),e._uU(86,"Sauvegarder"),e.qZA()()()()()),2&t){const i=e.MAs(14),a=e.MAs(24),l=e.MAs(44),d=e.MAs(54),g=e.MAs(64),h=e.MAs(74);e.xp6(4),e.Q6J("routerLink",e.DdM(34,Pt)),e.xp6(9),e.Q6J("ngModel",n.personelDto.nom)("ngClass",e.VKq(35,b,i.touched&&!i.valid)),e.xp6(3),e.Q6J("ngIf",null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.errors?null:i.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==i.errors?null:i.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.personelDto.prenom)("ngClass",e.VKq(37,b,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.personelDto.sexe),e.xp6(11),e.Q6J("ngModel",n.personelDto.dateDeNaissance)("ngClass",e.VKq(39,b,l.touched&&!l.valid)),e.xp6(3),e.Q6J("ngIf",null==l.errors?null:l.errors.required),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==l.errors?null:l.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.personelDto.lieuDeNaissance)("ngClass",e.VKq(41,b,d.touched&&!d.valid)),e.xp6(3),e.Q6J("ngIf",null==d.errors?null:d.errors.required),e.xp6(1),e.Q6J("ngIf",null==d.errors?null:d.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==d.errors?null:d.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.personelDto.email)("ngClass",e.VKq(43,b,g.touched&&!g.valid)),e.xp6(3),e.Q6J("ngIf",null==g.errors?null:g.errors.required),e.xp6(1),e.Q6J("ngIf",null==g.errors?null:g.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==g.errors?null:g.errors.maxlength),e.xp6(5),e.Q6J("ngModel",n.personelDto.numero)("ngClass",e.VKq(45,b,h.touched&&!h.valid)),e.xp6(3),e.Q6J("ngIf",null==h.errors?null:h.errors.required),e.xp6(1),e.Q6J("ngIf",null==h.errors?null:h.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==h.errors?null:h.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.personelDto.roleDto.id),e.xp6(1),e.Q6J("ngForOf",n.roles)}},dependencies:[u.mk,u.sg,u.O5,c.rH,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),o})();class k{constructor(){this.id=0,this.quantite="",this.date="",this.prixAchat=0,this.produitDto=new A.I,this.personelDto=new T}}let y=(()=>{class o{constructor(t){this.httpClient=t,this.baseURL=_.N.baseURL+"mvtstks"}getStocks(){return this.httpClient.get(`${this.baseURL}/list`)}getStockById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addStock(t){return this.httpClient.post(`${this.baseURL}`,t)}reduireStock(t){return this.httpClient.post(`${this.baseURL}/reduire`,t)}updateStock(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,n)}deleteStock(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(f.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),J=(()=>{class o{constructor(t){this.httpClient=t,this.baseURL=_.N.baseURL+"bureaus"}getBureaus(){return this.httpClient.get(`${this.baseURL}/list`)}getBureauById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addBureau(t){return this.httpClient.post(`${this.baseURL}`,t)}updateBureau(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,n)}deleteBureau(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(f.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function Mt(o,r){1&o&&(e.TgZ(0,"option"),e._uU(1,"Aucunproduit disponible"),e.qZA())}function kt(o,r){if(1&o&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.id)}}function xt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez le prixAchat "),e.qZA())}function Dt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function yt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Jt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez le quantite "),e.qZA())}function Lt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function St(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Nt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez la date "),e.qZA())}const Ft=function(){return["../list-stock"]},L=function(o){return{"is-invalid":o}};let wt=(()=>{class o{constructor(t,n,i,a,l){this.stockService=t,this.produitService=n,this.personelService=i,this.bureauService=a,this.router=l,this.produits=[],this.bureaus=[],this.personels=[],this.stockDto=new k}ngOnInit(){this.getProduits(),this.getPersonels(),this.getBureaus()}savestock(){this.stockService.addStock(this.stockDto).subscribe(t=>{console.log(t),this.goTostockList()},t=>console.log(t))}goTostockList(){this.router.navigate(["admin/list-stock"])}onSubmit(){console.log(this.stockDto),this.savestock()}getProduits(){this.produitService.getProduits().subscribe(t=>{this.produits=t,console.log("Toutes les produits : ",this.produits)})}getDeleteProduit(){this.produitService.deleteProduit(this.stockDto.produitDto.id).subscribe(t=>{})}getPersonels(){this.personelService.getPersonels().subscribe(t=>{this.personels=t,console.log("Toutes les personels : ",this.personels)})}getBureaus(){this.bureauService.getBureaus().subscribe(t=>{this.bureaus=t,console.log("Toutes les bureaus : ",this.bureaus)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y),e.Y36(C.d),e.Y36(P),e.Y36(J),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-stock"]],decls:42,vars:24,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["name","produits","id","produits","required","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","prixAchat du stock","name","prixAchat","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["prixAchatVar","ngModel"],[1,"invalid-feedback"],["type","number","placeholder","quantite","name","quantite","required","","minlength","1","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["quantiteVar","ngModel"],["type","date","placeholder","JJ/MM/AAAA","name","date","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["createdAtVar","ngModel"],[1,"d-flex","justify-content-end","mt-2"],["type","submit",1,"btn","btn-info"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Ajouter un stock "),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6)(9,"label",7),e._uU(10,"Id produit"),e.qZA(),e.TgZ(11,"select",8),e.NdJ("ngModelChange",function(a){return n.stockDto.produitDto.id=a}),e.YNc(12,Mt,2,0,"option",9),e.YNc(13,kt,2,2,"option",10),e.qZA()(),e.TgZ(14,"div",6)(15,"label"),e._uU(16,"prixAchat"),e.qZA(),e.TgZ(17,"input",11,12),e.NdJ("ngModelChange",function(a){return n.stockDto.prixAchat=a}),e.qZA(),e.TgZ(19,"div",13),e.YNc(20,xt,2,0,"span",9),e.YNc(21,Dt,2,0,"span",9),e.YNc(22,yt,2,0,"span",9),e.qZA()(),e.TgZ(23,"div",6)(24,"label"),e._uU(25,"Quantite"),e.qZA(),e.TgZ(26,"input",14,15),e.NdJ("ngModelChange",function(a){return n.stockDto.quantite=a}),e.qZA(),e.TgZ(28,"div",13),e.YNc(29,Jt,2,0,"span",9),e.YNc(30,Lt,2,0,"span",9),e.YNc(31,St,2,0,"span",9),e.qZA()(),e.TgZ(32,"div",6)(33,"label"),e._uU(34,"Date "),e.qZA(),e.TgZ(35,"input",16,17),e.NdJ("ngModelChange",function(a){return n.stockDto.date=a}),e.qZA(),e.TgZ(37,"div",13),e.YNc(38,Nt,2,0,"span",9),e.qZA()(),e.TgZ(39,"div",18)(40,"button",19),e._uU(41,"Sauvegarder"),e.qZA()()()()()),2&t){const i=e.MAs(18),a=e.MAs(27),l=e.MAs(36);e.xp6(4),e.Q6J("routerLink",e.DdM(17,Ft)),e.xp6(7),e.Q6J("ngModel",n.stockDto.produitDto.id),e.xp6(1),e.Q6J("ngIf",!(null!=n.produits&&n.produits.length)),e.xp6(1),e.Q6J("ngForOf",n.produits),e.xp6(4),e.Q6J("ngModel",n.stockDto.prixAchat)("ngClass",e.VKq(18,L,i.touched&&!i.valid)),e.xp6(3),e.Q6J("ngIf",null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.errors?null:i.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==i.errors?null:i.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.stockDto.quantite)("ngClass",e.VKq(20,L,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.stockDto.date)("ngClass",e.VKq(22,L,l.touched&&!l.valid)),e.xp6(3),e.Q6J("ngIf",null==l.errors?null:l.errors.required)}},dependencies:[u.mk,u.sg,u.O5,c.rH,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),o})();const Qt=["content"];function It(o,r){if(1&o&&(e.TgZ(0,"h5",52),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function Yt(o,r){if(1&o&&(e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e._UZ(13,"td"),e.qZA()),2&o){const t=r.$implicit,n=r.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.date),e.xp6(2),e.Oqu(t.produitDto.nom),e.xp6(2),e.Oqu(t.produitDto.prixAchat),e.xp6(2),e.Oqu(t.quantite),e.xp6(2),e.Oqu(t.produitDto.quantite)}}function Et(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",33)(1,"a",53),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&o){const t=r.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let Ot=(()=>{class o{constructor(t){this.stockService=t,this.stockDtos=[],this.stockDto=new k,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredStocks=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllStockDtos()}delete(){this.stockService.deleteStock(this.stockDto.id).subscribe(t=>{this.showSuccessMessage("Stock"+this.stockDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllStockDtos(),this.stockDto=new k})}deleteStock(t){this.stockService.deleteStock(t).subscribe(n=>{console.log(n),this.getAllStockDtos()})}ngOnInit(){this.getAllStockDtos(),this.filteredData()}getAllStockDtos(){var t=this;return(0,p.Z)(function*(){yield t.stockService.getStocks().subscribe(n=>{t.stockDtos=n,console.log("Toutes les stocks via data: ",n),console.log("Toutes les stocks: ",t.stockDtos),t.datas=n,console.log("Toutes les stocks via datas: ",t.datas),t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"prenom"==this.filterBy&&this.datas.sort((t,n)=>t.personelDto.prenom.localeCompare(n.personelDto.prenom)),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterStockLists(){var t=this;return(0,p.Z)(function*(){try{t.datas=t.searchText?yield t.stockDtos.filter(n=>n.personelDto.prenom.toLowerCase().includes(t.searchText.toLowerCase())):t.stockDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,p.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredStocks=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new Z.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("stocks.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-stock"]],viewQuery:function(t,n){if(1&t&&e.Gf(Qt,5),2&t){let i;e.iGM(i=e.CRH())&&(n.pdfTable=i.first)}},decls:98,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-stock",1,"btn","btn-primary"],[1,"fa","fa-plus"],["routerLink","/admin/reduire-stock",1,"btn","btn-primary"],[1,"fa","fa-trash"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","nombureau"],["value","prenom"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],["role","alert"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,It,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des stocks"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()(),e.TgZ(14,"div",6)(15,"a",10),e._UZ(16,"i",11),e._uU(17," Reduire "),e.qZA()()(),e._UZ(18,"hr"),e.TgZ(19,"div",12)(20,"div",13)(21,"div",14)(22,"label",15),e._UZ(23,"i",16),e._uU(24," Afficher "),e.qZA(),e.TgZ(25,"input",17),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(26," par page "),e.qZA(),e.TgZ(27,"div",18)(28,"label",19),e._UZ(29,"i",20),e.qZA(),e.TgZ(30,"select",21),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(31,"option",22),e._uU(32,"Filtrer par"),e.qZA(),e.TgZ(33,"option",23),e._uU(34,"Bureau"),e.qZA(),e.TgZ(35,"option",24),e._uU(36,"prenom"),e.qZA()()(),e.TgZ(37,"div",25)(38,"label",26),e._UZ(39,"i",27),e.qZA(),e.TgZ(40,"input",28),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterStockLists()}),e.qZA()()(),e.TgZ(41,"table",29,30)(43,"thead")(44,"tr")(45,"th"),e._uU(46,"#"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"Date"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"produit"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"prix achat"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"quantite Ajouter"),e.qZA(),e.TgZ(55,"th"),e._uU(56,"quantite Total"),e.qZA(),e.TgZ(57,"th"),e._uU(58,"Actions"),e.qZA()()(),e.TgZ(59,"tbody"),e.YNc(60,Yt,14,6,"tr",31),e.qZA()(),e.TgZ(61,"div",0)(62,"nav")(63,"ul",32)(64,"li",33)(65,"a",34),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(66,"span",35),e._uU(67,"\xab"),e.qZA()()(),e.TgZ(68,"li",33)(69,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(70,"span",35),e._uU(71,"\u2039"),e.qZA()()(),e.YNc(72,Et,3,3,"li",37),e.TgZ(73,"li",33)(74,"a",38),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(75,"span",35),e._uU(76,"\u203a"),e.qZA()()(),e.TgZ(77,"li",33)(78,"a",39),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(79,"span",35),e._uU(80,"\xbb"),e.qZA()()()()()()(),e.TgZ(81,"div",40)(82,"div",41)(83,"div",42)(84,"div",43)(85,"h1",44),e._uU(86," Suppression "),e.qZA(),e.TgZ(87,"button",45),e._UZ(88,"i",46),e.qZA()(),e.TgZ(89,"div",47),e._uU(90," Etes-vous sur de vouloir supprimer cette stock ? "),e.qZA(),e.TgZ(91,"div",48)(92,"button",49),e._UZ(93,"i",50),e._uU(94," Annuler "),e.qZA(),e.TgZ(95,"button",51),e.NdJ("click",function(){return n.delete()}),e._UZ(96,"i",11),e._uU(97," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(24),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(20),e.Q6J("ngForOf",n.filteredStocks),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),o})(),Bt=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(t){return new(t||o)},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-update-stock"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"p"),e._uU(1,"update-stock works!"),e.qZA())}}),o})();function Vt(o,r){1&o&&(e.TgZ(0,"option"),e._uU(1,"Aucunproduit disponible"),e.qZA())}function jt(o,r){if(1&o&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.Oqu(t.id)}}function $t(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez le prixAchat "),e.qZA())}function Rt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Gt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Kt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez le quantite "),e.qZA())}function zt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function Ht(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Xt(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez la date "),e.qZA())}const Wt=function(){return["../list-stock"]},S=function(o){return{"is-invalid":o}};let en=(()=>{class o{constructor(t,n,i,a,l){this.stockService=t,this.produitService=n,this.personelService=i,this.bureauService=a,this.router=l,this.produits=[],this.bureaus=[],this.personels=[],this.stockDto=new k}ngOnInit(){this.getProduits(),this.getPersonels(),this.getBureaus()}savestock(){this.stockService.reduireStock(this.stockDto).subscribe(t=>{console.log(t),this.goTostockList()},t=>console.log(t))}goTostockList(){this.router.navigate(["admin/list-stock"])}onSubmit(){console.log(this.stockDto),this.savestock()}getProduits(){this.produitService.getProduits().subscribe(t=>{this.produits=t,console.log("Toutes les produits : ",this.produits)})}getDeleteProduit(){this.produitService.deleteProduit(this.stockDto.produitDto.id).subscribe(t=>{})}getPersonels(){this.personelService.getPersonels().subscribe(t=>{this.personels=t,console.log("Toutes les personels : ",this.personels)})}getBureaus(){this.bureauService.getBureaus().subscribe(t=>{this.bureaus=t,console.log("Toutes les bureaus : ",this.bureaus)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(y),e.Y36(C.d),e.Y36(P),e.Y36(J),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-reduire-stock"]],decls:42,vars:24,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["name","produits","id","produits","required","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","prixAchat du stock","name","prixAchat","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["prixAchatVar","ngModel"],[1,"invalid-feedback"],["type","number","placeholder","quantite","name","quantite","required","","minlength","1","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["quantiteVar","ngModel"],["type","date","placeholder","JJ/MM/AAAA","name","date","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["createdAtVar","ngModel"],[1,"d-flex","justify-content-end","mt-2"],["type","submit",1,"btn","btn-info"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Reduire un stock "),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6)(9,"label",7),e._uU(10,"Id produit"),e.qZA(),e.TgZ(11,"select",8),e.NdJ("ngModelChange",function(a){return n.stockDto.produitDto.id=a}),e.YNc(12,Vt,2,0,"option",9),e.YNc(13,jt,2,2,"option",10),e.qZA()(),e.TgZ(14,"div",6)(15,"label"),e._uU(16,"prixAchat"),e.qZA(),e.TgZ(17,"input",11,12),e.NdJ("ngModelChange",function(a){return n.stockDto.prixAchat=a}),e.qZA(),e.TgZ(19,"div",13),e.YNc(20,$t,2,0,"span",9),e.YNc(21,Rt,2,0,"span",9),e.YNc(22,Gt,2,0,"span",9),e.qZA()(),e.TgZ(23,"div",6)(24,"label"),e._uU(25,"Quantite"),e.qZA(),e.TgZ(26,"input",14,15),e.NdJ("ngModelChange",function(a){return n.stockDto.quantite=a}),e.qZA(),e.TgZ(28,"div",13),e.YNc(29,Kt,2,0,"span",9),e.YNc(30,zt,2,0,"span",9),e.YNc(31,Ht,2,0,"span",9),e.qZA()(),e.TgZ(32,"div",6)(33,"label"),e._uU(34,"Date "),e.qZA(),e.TgZ(35,"input",16,17),e.NdJ("ngModelChange",function(a){return n.stockDto.date=a}),e.qZA(),e.TgZ(37,"div",13),e.YNc(38,Xt,2,0,"span",9),e.qZA()(),e.TgZ(39,"div",18)(40,"button",19),e._uU(41,"Sauvegarder"),e.qZA()()()()()),2&t){const i=e.MAs(18),a=e.MAs(27),l=e.MAs(36);e.xp6(4),e.Q6J("routerLink",e.DdM(17,Wt)),e.xp6(7),e.Q6J("ngModel",n.stockDto.produitDto.id),e.xp6(1),e.Q6J("ngIf",!(null!=n.produits&&n.produits.length)),e.xp6(1),e.Q6J("ngForOf",n.produits),e.xp6(4),e.Q6J("ngModel",n.stockDto.prixAchat)("ngClass",e.VKq(18,S,i.touched&&!i.valid)),e.xp6(3),e.Q6J("ngIf",null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.errors?null:i.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==i.errors?null:i.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.stockDto.quantite)("ngClass",e.VKq(20,S,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==a.errors?null:a.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.stockDto.date)("ngClass",e.VKq(22,S,l.touched&&!l.valid)),e.xp6(3),e.Q6J("ngIf",null==l.errors?null:l.errors.required)}},dependencies:[u.mk,u.sg,u.O5,c.rH,s._Y,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),o})();class tn{constructor(){this.id=0,this.code="",this.nom="",this.createdAt=""}}class nn{constructor(){this.id=0,this.nom="",this.departementDto=new tn}}class N{constructor(){this.id=0,this.quantite="",this.date="",this.motif="",this.produitDto=new A.I,this.personelDto=new T,this.bureauDto=new nn}}let I=(()=>{class o{constructor(t){this.httpClient=t,this.baseURL=_.N.baseURL+"affectations"}getAffectations(){return this.httpClient.get(`${this.baseURL}/list`)}getAffectationById(t){return this.httpClient.get(`${this.baseURL}/${t}`)}addAffectation(t){return this.httpClient.post(`${this.baseURL}`,t)}updateAffectation(t,n){return this.httpClient.put(`${this.baseURL}/${t}`,n)}deleteAffectation(t){return this.httpClient.delete(`${this.baseURL}/${t}`)}}return o.\u0275fac=function(t){return new(t||o)(e.LFG(f.eN))},o.\u0275prov=e.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();const on=["content"];function rn(o,r){if(1&o&&(e.TgZ(0,"h5",51),e._uU(1),e.qZA()),2&o){const t=e.oxw();e.Tol(t.style),e.xp6(1),e.hij(" ",t.message," ")}}function an(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"tr")(1,"td"),e._uU(2),e.qZA(),e.TgZ(3,"td"),e._uU(4),e.qZA(),e.TgZ(5,"td"),e._uU(6),e.qZA(),e.TgZ(7,"td"),e._uU(8),e.qZA(),e.TgZ(9,"td"),e._uU(10),e.qZA(),e.TgZ(11,"td"),e._uU(12),e.qZA(),e.TgZ(13,"td")(14,"a",52),e._UZ(15,"i",53),e._uU(16," Modifier "),e.qZA(),e.TgZ(17,"a",54),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.deleteAffectation(a.id))}),e._UZ(18,"i",50),e._uU(19," Supprimer "),e.qZA()()()}if(2&o){const t=r.$implicit,n=r.index;e.xp6(2),e.Oqu(n+1),e.xp6(2),e.Oqu(t.id),e.xp6(2),e.Oqu(t.motif),e.xp6(2),e.Oqu(t.produitDto.nom),e.xp6(2),e.Oqu(t.bureauDto.nom),e.xp6(2),e.AsE("",t.personelDto.nom," ",t.personelDto.prenom,""),e.xp6(2),e.MGl("routerLink","/admin/update-affectation/",t.id,"")}}function sn(o,r){if(1&o){const t=e.EpF();e.TgZ(0,"li",31)(1,"a",55),e.NdJ("click",function(){const a=e.CHM(t).$implicit,l=e.oxw();return e.KtG(l.goToPage(a))}),e._uU(2),e.qZA()()}if(2&o){const t=r.$implicit,n=e.oxw();e.ekj("active",n.currentPage===t),e.xp6(2),e.Oqu(t)}}let ln=(()=>{class o{constructor(t){this.affectationService=t,this.affectationDtos=[],this.affectationDto=new N,this.currentPage=1,this.itemsPerPage=10,this.totalItems=0,this.totalPages=0,this.filteredAffectations=[],this.datas=[],this.searchText="",this.filterBy="",this.pages=[],this.getAllAffectationDtos()}delete(){this.affectationService.deleteAffectation(this.affectationDto.id).subscribe(t=>{this.showSuccessMessage("Affectation"+this.affectationDto.id+" supprim\xe9 avec succ\xe8s!!"+t),this.getAllAffectationDtos(),this.affectationDto=new N})}deleteAffectation(t){this.affectationService.deleteAffectation(t).subscribe(n=>{console.log(n),this.getAllAffectationDtos()})}ngOnInit(){this.getAllAffectationDtos(),this.filteredData()}getAllAffectationDtos(){var t=this;return(0,p.Z)(function*(){yield t.affectationService.getAffectations().subscribe(n=>{t.affectationDtos=n,console.log("Toutes les affcetations via data: ",n),console.log("Toutes les affcetations: ",t.affectationDtos),t.datas=n,console.log("Toutes les affcetations via datas: ",t.datas),t.totalItems=n.length,t.totalPages=Math.ceil(t.totalItems/t.itemsPerPage),t.filteredData()})})()}itemsPerPageChanged(){this.currentPage=1,this.filteredData(),this.getPages()}filterByChanged(){"nombureau"==this.filterBy&&this.datas.sort((t,n)=>t.bureauDto.nom.localeCompare(n.bureauDto.nom)),"prenom"==this.filterBy&&this.datas.sort((t,n)=>t.personelDto.prenom.localeCompare(n.personelDto.prenom)),this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.filteredData(),this.getPages()}filterAffectationLists(){var t=this;return(0,p.Z)(function*(){try{t.datas=t.searchText?yield t.affectationDtos.filter(n=>n.bureauDto.nom.toLowerCase().includes(t.searchText.toLowerCase())||n.personelDto.prenom.toLowerCase().includes(t.searchText.toLowerCase())):t.affectationDtos,t.filteredData()}catch(n){console.error(n)}})()}getPages(){this.totalItems=this.datas.length,this.totalPages=Math.ceil(this.totalItems/this.itemsPerPage),this.pages=Array(this.totalPages).fill(0).map((t,n)=>n+1)}goToPage(t){t>=1&&t<=this.totalPages&&(this.currentPage=t,this.filteredData())}nextPage(){this.currentPage<this.totalPages&&(this.currentPage++,this.filteredData())}previousPage(){this.currentPage>1&&(this.currentPage--,this.filteredData())}filteredData(){var t=this;return(0,p.Z)(function*(){let n=(t.currentPage-1)*t.itemsPerPage;t.filteredAffectations=t.datas.slice(n,n+t.itemsPerPage),t.getPages()})()}generatePDF(){new Z.ZP("p","pt","a4").html(this.pdfTable.nativeElement,{callback:n=>{n.save("affectations.pdf")}})}showSuccessMessage(t){this.message=t,this.style="alert alert-danger",setTimeout(()=>{this.message=""},5e3)}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-list-vente"]],viewQuery:function(t,n){if(1&t&&e.Gf(on,5),2&t){let i;e.iGM(i=e.CRH())&&(n.pdfTable=i.first)}},decls:94,vars:14,consts:[[1,"col-12","text-center"],["role","alert",3,"class",4,"ngIf"],[1,"row","text-center","my-2","flex","justify-content-between"],[1,"col-2"],[1,"btn","btn-success",3,"click"],[1,"fa","fa-print"],[1,"col-4"],[1,"text-center"],["routerLink","/admin/add-vente",1,"btn","btn-primary"],[1,"fa","fa-plus"],[1,"content","mt-2"],[1,"row","d-flex","justify-content-between"],[1,"col-3","form-group"],["for","itemsPerPage",1,"form-label","d-inline"],[1,"fa","fa-list","mx-2"],["type","number","name","itemsPerPage","id","itemsPerPage","min","1","max","100",1,"form-control","w-25","fw-bold","d-inline",3,"ngModel","ngModelChange","change"],[1,"col-4","form-group","d-flex","align-items-center"],[1,"form-label"],[1,"fa","fa-filter"],["name","filterBy",1,"form-select","mx-2",3,"ngModel","ngModelChange","change"],["selected",""],["value","nombureau"],["value","prenom"],[1,"form-group","d-flex","align-items-center","col-3"],["for","searchText",1,"form-label"],[1,"fa","fa-search"],["type","text","placeholder","Rechercher...",1,"form-control","mx-2",3,"ngModel","ngModelChange","keyup"],[1,"table"],["content",""],[4,"ngFor","ngForOf"],[1,"pagination","justify-content-center"],[1,"page-item"],["aria-label","Premi\xe8re page",1,"page-link","btn",3,"click"],["aria-hidden","true"],["aria-label","Page pr\xe9c\xe9dente",1,"page-link","btn",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],["aria-label","Page suivante",1,"page-link","btn",3,"click"],["aria-label","Derni\xe8re page",1,"page-link","btn",3,"click"],["id","deleteModal","tabindex","-1","aria-labelledby","createModalLabel","aria-hidden","true",1,"modal","fade","modal-dialog-scrollable"],["role","document",1,"modal-dialog"],[1,"modal-content"],[1,"modal-header","bg-info","card-danger"],["id","createModalLabel",1,"modal-title","fs-5"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn","btn-danger"],[1,"fa","fa-times"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],[1,"fa","fa-backward"],["type","button","data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"fa","fa-trash"],["role","alert"],[1,"btn","btn-secondary",3,"routerLink"],[1,"fa","fa-edit"],["data-bs-toggle","modal","data-bs-target","#deleteModal",1,"btn","btn-danger",3,"click"],[1,"page-link","btn",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,rn,2,3,"h5",1),e.qZA(),e.TgZ(2,"div",2)(3,"div",3)(4,"button",4),e.NdJ("click",function(){return n.generatePDF()}),e._UZ(5,"i",5),e._uU(6," Imprimer "),e.qZA()(),e.TgZ(7,"div",6)(8,"h4",7),e._uU(9,"Liste des Ventes"),e.qZA()(),e.TgZ(10,"div",3)(11,"a",8),e._UZ(12,"i",9),e._uU(13," Ajouter "),e.qZA()()(),e._UZ(14,"hr"),e.TgZ(15,"div",10)(16,"div",11)(17,"div",12)(18,"label",13),e._UZ(19,"i",14),e._uU(20," Afficher "),e.qZA(),e.TgZ(21,"input",15),e.NdJ("ngModelChange",function(a){return n.itemsPerPage=a})("change",function(){return n.itemsPerPageChanged()}),e.qZA(),e._uU(22," par page "),e.qZA(),e.TgZ(23,"div",16)(24,"label",17),e._UZ(25,"i",18),e.qZA(),e.TgZ(26,"select",19),e.NdJ("ngModelChange",function(a){return n.filterBy=a})("change",function(){return n.filterByChanged()}),e.TgZ(27,"option",20),e._uU(28,"Filtrer par"),e.qZA(),e.TgZ(29,"option",21),e._uU(30,"Bureau"),e.qZA(),e.TgZ(31,"option",22),e._uU(32,"prenom"),e.qZA()()(),e.TgZ(33,"div",23)(34,"label",24),e._UZ(35,"i",25),e.qZA(),e.TgZ(36,"input",26),e.NdJ("ngModelChange",function(a){return n.searchText=a})("keyup",function(){return n.filterAffectationLists()}),e.qZA()()(),e.TgZ(37,"table",27,28)(39,"thead")(40,"tr")(41,"th"),e._uU(42,"#"),e.qZA(),e.TgZ(43,"th"),e._uU(44,"Code"),e.qZA(),e.TgZ(45,"th"),e._uU(46,"motif"),e.qZA(),e.TgZ(47,"th"),e._uU(48,"produit"),e.qZA(),e.TgZ(49,"th"),e._uU(50,"bureau"),e.qZA(),e.TgZ(51,"th"),e._uU(52,"Nom complet"),e.qZA(),e.TgZ(53,"th"),e._uU(54,"Actions"),e.qZA()()(),e.TgZ(55,"tbody"),e.YNc(56,an,20,8,"tr",29),e.qZA()(),e.TgZ(57,"div",0)(58,"nav")(59,"ul",30)(60,"li",31)(61,"a",32),e.NdJ("click",function(){return n.goToPage(1)}),e.TgZ(62,"span",33),e._uU(63,"\xab"),e.qZA()()(),e.TgZ(64,"li",31)(65,"a",34),e.NdJ("click",function(){return n.goToPage(n.currentPage-1)}),e.TgZ(66,"span",33),e._uU(67,"\u2039"),e.qZA()()(),e.YNc(68,sn,3,3,"li",35),e.TgZ(69,"li",31)(70,"a",36),e.NdJ("click",function(){return n.goToPage(n.currentPage+1)}),e.TgZ(71,"span",33),e._uU(72,"\u203a"),e.qZA()()(),e.TgZ(73,"li",31)(74,"a",37),e.NdJ("click",function(){return n.goToPage(n.totalPages)}),e.TgZ(75,"span",33),e._uU(76,"\xbb"),e.qZA()()()()()()(),e.TgZ(77,"div",38)(78,"div",39)(79,"div",40)(80,"div",41)(81,"h1",42),e._uU(82," Suppression "),e.qZA(),e.TgZ(83,"button",43),e._UZ(84,"i",44),e.qZA()(),e.TgZ(85,"div",45),e._uU(86," Etes-vous sur de vouloir supprimer cette affectation ? "),e.qZA(),e.TgZ(87,"div",46)(88,"button",47),e._UZ(89,"i",48),e._uU(90," Annuler "),e.qZA(),e.TgZ(91,"button",49),e.NdJ("click",function(){return n.delete()}),e._UZ(92,"i",50),e._uU(93," Supprimer "),e.qZA()()()()()),2&t&&(e.xp6(1),e.Q6J("ngIf",n.message),e.xp6(20),e.Q6J("ngModel",n.itemsPerPage),e.xp6(5),e.Q6J("ngModel",n.filterBy),e.xp6(10),e.Q6J("ngModel",n.searchText),e.xp6(20),e.Q6J("ngForOf",n.filteredAffectations),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.ekj("disabled",1===n.currentPage),e.xp6(4),e.Q6J("ngForOf",n.pages),e.xp6(1),e.ekj("disabled",n.currentPage===n.totalPages),e.xp6(4),e.ekj("disabled",n.currentPage===n.totalPages))},dependencies:[u.sg,u.O5,c.yS,s.YN,s.Kr,s.Fj,s.wV,s.EJ,s.JJ,s.qQ,s.Fd,s.On]}),o})();function un(o,r){1&o&&(e.TgZ(0,"option"),e._uU(1,"Aucunproduit disponible"),e.qZA())}function cn(o,r){if(1&o&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.AsE("id:",t.id,"=>",t.nom,"")}}function dn(o,r){1&o&&(e.TgZ(0,"option"),e._uU(1,"Aucun personel disponible"),e.qZA())}function gn(o,r){if(1&o&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.AsE(" ",t.prenom," ",t.nom," ")}}function pn(o,r){1&o&&(e.TgZ(0,"option"),e._uU(1,"Aucun bureau disponible"),e.qZA())}function mn(o,r){if(1&o&&(e.TgZ(0,"option",20),e._uU(1),e.qZA()),2&o){const t=r.$implicit;e.s9C("value",t.id),e.xp6(1),e.AsE(" ",t.id,":=> ",t.nom," ")}}function _n(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez le motif "),e.qZA())}function fn(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Minimum 4 caract\xe8res "),e.qZA())}function hn(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Maximum 30 caract\xe8res "),e.qZA())}function Zn(o,r){1&o&&(e.TgZ(0,"span"),e._uU(1," Entrez la date "),e.qZA())}const Cn=function(){return["../list-vente"]},Y=function(o){return{"is-invalid":o}},bn=[{path:"",component:O,children:[{path:"add-categorie",component:V},{path:"list-categorie",component:K},{path:"add-produit",component:fe},{path:"list-produit",component:be.E},{path:"update-produit",component:Te},{path:"add-fournisseur",component:Ve},{path:"list-fournisseur",component:Ue},{path:"update-fournisseur",component:Me},{path:"add-avarie",component:je},{path:"list-avarie",component:ze},{path:"update-avarie",component:He},{path:"add-personel",component:Ut},{path:"list-personel",component:it},{path:"update-personel",component:Xe},{path:"add-stock",component:wt},{path:"list-stock",component:Ot},{path:"update-stock/:id",component:Bt},{path:"reduire-stock",component:en},{path:"add-vente",component:(()=>{class o{constructor(t,n,i,a,l){this.affectationService=t,this.produitService=n,this.personelService=i,this.bureauService=a,this.router=l,this.produits=[],this.bureaus=[],this.personels=[],this.affectationDto=new N}ngOnInit(){this.getProduits(),this.getPersonels(),this.getBureaus()}saveaffectation(){this.affectationService.addAffectation(this.affectationDto).subscribe(t=>{console.log(t),this.goToaffectationList()},t=>console.log(t))}goToaffectationList(){this.router.navigate(["admin/list-affectation"])}onSubmit(){console.log(this.affectationDto),this.saveaffectation(),this.getDeleteProduit()}getProduits(){this.produitService.getProduits().subscribe(t=>{this.produits=t,console.log("Toutes les produits : ",this.produits)})}getDeleteProduit(){this.produitService.deleteProduit(this.affectationDto.produitDto.id).subscribe(t=>{})}getPersonels(){this.personelService.getPersonels().subscribe(t=>{this.personels=t,console.log("Toutes les personels : ",this.personels)})}getBureaus(){this.bureauService.getBureaus().subscribe(t=>{this.bureaus=t,console.log("Toutes les bureaus : ",this.bureaus)})}}return o.\u0275fac=function(t){return new(t||o)(e.Y36(I),e.Y36(C.d),e.Y36(P),e.Y36(J),e.Y36(c.F0))},o.\u0275cmp=e.Xpm({type:o,selectors:[["app-create-vente"]],decls:45,vars:23,consts:[[1,"card","col-md-4","offset-4"],[1,"card-header","text-white","bg-info","d-flex","justify-content-between"],[1,"btn","btn-danger",3,"routerLink"],[1,"fa","fa-arrow-left"],[1,"card-body"],[3,"ngSubmit"],[1,"mb-3"],[1,"form-label"],["name","produits","id","produits","required","",1,"form-control",3,"ngModel","ngModelChange"],[4,"ngIf"],[3,"value",4,"ngFor","ngForOf"],["placeholder","nom","name","personels","id","personels","required","",1,"form-control",3,"ngModel","ngModelChange"],["placeholder","nom","name","bureaus","id","bureaus","required","",1,"form-control",3,"ngModel","ngModelChange"],["type","text","placeholder","motif du affectation","name","motif","required","","minlength","4","maxlength","30",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["motifVar","ngModel"],[1,"invalid-feedback"],["type","date","placeholder","JJ/MM/AAAA","name","date","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["createdAtVar","ngModel"],[1,"d-flex","justify-content-end","mt-2"],["type","submit",1,"btn","btn-info"],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"h4"),e._uU(3,"Ajouter une vente "),e.qZA(),e.TgZ(4,"button",2),e._UZ(5,"i",3),e.qZA()(),e.TgZ(6,"div",4)(7,"form",5),e.NdJ("ngSubmit",function(){return n.onSubmit()}),e.TgZ(8,"div",6)(9,"label",7),e._uU(10,"Id du materiel"),e.qZA(),e.TgZ(11,"select",8),e.NdJ("ngModelChange",function(a){return n.affectationDto.produitDto.id=a}),e.YNc(12,un,2,0,"option",9),e.YNc(13,cn,2,3,"option",10),e.qZA()(),e.TgZ(14,"div",6)(15,"label",7),e._uU(16,"Nom du personel"),e.qZA(),e.TgZ(17,"select",11),e.NdJ("ngModelChange",function(a){return n.affectationDto.personelDto.id=a}),e.YNc(18,dn,2,0,"option",9),e.YNc(19,gn,2,3,"option",10),e.qZA()(),e.TgZ(20,"div",6)(21,"label",7),e._uU(22,"Bureau"),e.qZA(),e.TgZ(23,"select",12),e.NdJ("ngModelChange",function(a){return n.affectationDto.bureauDto.id=a}),e.YNc(24,pn,2,0,"option",9),e.YNc(25,mn,2,3,"option",10),e.qZA()(),e.TgZ(26,"div",6)(27,"label"),e._uU(28,"Motif"),e.qZA(),e.TgZ(29,"input",13,14),e.NdJ("ngModelChange",function(a){return n.affectationDto.motif=a}),e.qZA(),e.TgZ(31,"div",15),e.YNc(32,_n,2,0,"span",9),e.YNc(33,fn,2,0,"span",9),e.YNc(34,hn,2,0,"span",9),e.qZA()(),e.TgZ(35,"div",6)(36,"label"),e._uU(37,"Date "),e.qZA(),e.TgZ(38,"input",16,17),e.NdJ("ngModelChange",function(a){return n.affectationDto.date=a}),e.qZA(),e.TgZ(40,"div",15),e.YNc(41,Zn,2,0,"span",9),e.qZA()(),e.TgZ(42,"div",18)(43,"button",19),e._uU(44,"Sauvegarder"),e.qZA()()()()()),2&t){const i=e.MAs(30),a=e.MAs(39);e.xp6(4),e.Q6J("routerLink",e.DdM(18,Cn)),e.xp6(7),e.Q6J("ngModel",n.affectationDto.produitDto.id),e.xp6(1),e.Q6J("ngIf",!(null!=n.produits&&n.produits.length)),e.xp6(1),e.Q6J("ngForOf",n.produits),e.xp6(4),e.Q6J("ngModel",n.affectationDto.personelDto.id),e.xp6(1),e.Q6J("ngIf",!(null!=n.personels&&n.personels.length)),e.xp6(1),e.Q6J("ngForOf",n.personels),e.xp6(4),e.Q6J("ngModel",n.affectationDto.bureauDto.id),e.xp6(1),e.Q6J("ngIf",!(null!=n.bureaus&&n.bureaus.length)),e.xp6(1),e.Q6J("ngForOf",n.bureaus),e.xp6(4),e.Q6J("ngModel",n.affectationDto.motif)("ngClass",e.VKq(19,Y,i.touched&&!i.valid)),e.xp6(3),e.Q6J("ngIf",null==i.errors?null:i.errors.required),e.xp6(1),e.Q6J("ngIf",null==i.errors?null:i.errors.minlength),e.xp6(1),e.Q6J("ngIf",null==i.errors?null:i.errors.maxlength),e.xp6(4),e.Q6J("ngModel",n.affectationDto.date)("ngClass",e.VKq(21,Y,a.touched&&!a.valid)),e.xp6(3),e.Q6J("ngIf",null==a.errors?null:a.errors.required)}},dependencies:[u.mk,u.sg,u.O5,c.rH,s._Y,s.YN,s.Kr,s.Fj,s.EJ,s.JJ,s.JL,s.Q7,s.wO,s.nD,s.On,s.F]}),o})()},{path:"list-vente",component:ln}]}];let An=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[c.Bz.forChild(bn),c.Bz]}),o})(),vn=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[u.ez,An,s.u5,s.UX]}),o})()}}]);